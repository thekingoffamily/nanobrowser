# üîç –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ—Ç–ª–∞–¥–∫–µ Nanobrowser

## üìä –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏

### üîß –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è G4F API:
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ JSON**: G4F –º–æ–¥–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä—É—á–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ JSON
- **Fallback –º–µ—Ö–∞–Ω–∏–∑–º**: –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö structured output –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º
- **–£–º–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ**: –ü–æ–∏—Å–∫ JSON –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –æ—Ç–≤–µ—Ç–µ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–∑ –æ–±—ã—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ù–æ–≤—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è JSON
- **üÜï –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã**: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ JSON –¥–ª—è G4F –º–æ–¥–µ–ª–µ–π –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö
- **üÜï –£—Å–∏–ª–µ–Ω–Ω—ã–µ JSON –ø—Ä–∞–≤–∏–ª–∞**: –ß–µ—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

### üîç –ù–æ–≤—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
- **üîß [API-CONFIG]** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- **üîç [JSON-EXTRACT]** - –ü—Ä–æ—Ü–µ—Å—Å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è JSON
- **ü§ñ [JSON-EXTRACT]** - –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞
- **üÜò [JSON-EXTRACT]** - –ü–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **‚ö†Ô∏è [API-IN]** - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ fallback'–∞—Ö
- **üîß [PLANNER-PROMPT]** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ Planner –¥–ª—è G4F
- **üîß [NAVIGATOR-PROMPT]** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ Navigator –¥–ª—è G4F

## üìã –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

–í–æ –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —ç–º–æ–¥–∑–∏ –¥–ª—è –ª–µ–≥–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã –ª–æ–≥–æ–≤:

- **üî• [NANOBROWSER]** - –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ background script
- **üî® [EXECUTOR]** - –û–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∑–∞–¥–∞—á
- **üìä [PLANNER]** - –†–∞–±–æ—Ç–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- **ü¶≠ [NAVIGATOR]** - –†–∞–±–æ—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–∞
- **ü§ñ [G4F]** - G4F API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **üåê [UI-G4F]** - G4F –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

## üõ†Ô∏è –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ Chrome
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `chrome://extensions/`
- –ù–∞–π–¥–∏—Ç–µ Nanobrowser –∏ –Ω–∞–∂–º–∏—Ç–µ "Inspect views: background page"
- –û—Ç–∫—Ä–æ–µ—Ç—Å—è –∫–æ–Ω—Å–æ–ª—å background script

### 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ —Ñ–∏–ª—å—Ç—Ä—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

```
üî• [NANOBROWSER]     # –û–±—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
üî® [EXECUTOR]        # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á
üìä [PLANNER]         # –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
ü¶≠ [NAVIGATOR]       # –ù–∞–≤–∏–≥–∞—Ü–∏—è
ü§ñ [G4F]             # G4F API
```

### 3. –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–ª–∞–¥–∫–∏

#### ‚ùì –ó–∞–¥–∞—á–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
–ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
```
üî• [NANOBROWSER] Received message from side panel: new_task
üî® [EXECUTOR] Creating new executor instance
üî® [EXECUTOR] Setting up executor for task
```

#### ‚ùì –ü—Ä–æ–±–ª–µ–º—ã —Å G4F
–ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
```
ü§ñ [G4F] Checking G4F API status
ü§ñ [G4F] Starting model fetch
üåê [UI-G4F] Starting model fetch for provider
üîß [API-CONFIG] G4F –ø—Ä–æ–≤–∞–π–¥–µ—Ä - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ JSON
üîç [JSON-EXTRACT] –ò—â–µ–º JSON –≤ —Ç–µ–∫—Å—Ç–µ –¥–ª—è G4F –º–æ–¥–µ–ª–∏...
‚ö†Ô∏è [API-IN] Structured output –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª –¥–ª—è G4F, –ø—Ä–æ–±—É–µ–º —Ä—É—á–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ...
```

#### ‚ùì JSON –ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
```
üîç [JSON-EXTRACT] –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ JSON –∏–∑ –æ—Ç–≤–µ—Ç–∞...
‚úÖ [JSON-EXTRACT] –ù–∞–π–¥–µ–Ω –≤–∞–ª–∏–¥–Ω—ã–π JSON –≤ —Ç–µ–∫—Å—Ç–µ
‚ùå [JSON-EXTRACT] –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON –Ω–∞–π–¥–µ–Ω
ü§ñ [JSON-EXTRACT] JSON –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–æ–∑–¥–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ —Ç–µ–∫—Å—Ç–∞...
üÜò [JSON-EXTRACT] –ü–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞ - —Å–æ–∑–¥–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É...
```

#### ‚ùì –ê–≥–µ–Ω—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
–ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
```
üìä [PLANNER] Starting planner execution
ü¶≠ [NAVIGATOR] Starting navigator execution
üî® [EXECUTOR] Running planner
üî® [EXECUTOR] Running navigator
```

#### ‚ùì –û—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
–ò—â–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
```
‚ùå [EXECUTOR] Task execution failed
‚ùå [PLANNER] Execution failed
‚ùå [NAVIGATOR] Navigation execution failed
‚ùå [G4F] Status check failed
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
```
üî• [NANOBROWSER] Extension background script starting...
üî• [NANOBROWSER] Side panel port established successfully
üî• [NANOBROWSER] Starting NEW TASK: –≤–∞—à–∞ –∑–∞–¥–∞—á–∞
üî® [EXECUTOR] Creating new executor instance...
üìä [PLANNER] Starting planner execution...
ü¶≠ [NAVIGATOR] Starting navigator execution...
```

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã G4F –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:
```
‚ùå [G4F] Status check failed: Failed to fetch
‚ùå [G4F] All attempts failed, using default models
ü§ñ [G4F] API returned error status: 500 Internal Server Error
```

### üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:
```
‚ùå [NANOBROWSER] Task execution failed: No API keys configured
‚ùå [EXECUTOR] Task failed with error: Navigator model not configured
‚ùå [PLANNER] Authentication error detected
```

## üì± –õ–æ–≥–∏ –≤ UI (Options —Å—Ç—Ä–∞–Ω–∏—Ü–∞)

–î–ª—è G4F –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏:
```
üåê [UI-G4F] Starting model fetch for provider: g4f
‚úÖ [UI-G4F] Successfully fetched 8 models
‚ùå [UI-G4F] Failed to fetch models after retries
```

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ –∫–æ–Ω—Å–æ–ª–∏

```javascript
// –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ª–æ–≥–∏ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –ø—Ä–µ—Ñ–∏–∫—Å–æ–º
console.history?.filter(log => log.includes('[G4F]'))

// –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å
console.clear()

// –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏
localStorage.setItem('debug', 'true')
```

## üìù –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ** –∏–∑ `dist-zip/extension-20250823-183308.zip`
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å** background script
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–¥–∞—á—É** –∏ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã** –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
5. **–î–µ–ª–∏—Ç–µ—Å—å –ª–æ–≥–∞–º–∏** –ø—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö

### üéÜ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏:
- **–õ—É—á—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ G4F**: –¢–µ–ø–µ—Ä—å G4F –º–æ–¥–µ–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ –±–ª–∞–≥–æ–¥–∞—Ä—è —É–ª—É—á—à–µ–Ω–Ω–æ–º—É –ø–∞—Ä—Å–∏–Ω–≥—É
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback**: –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å –∫–∞–∂–¥—ã–π —à–∞–≥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç AI

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ª–æ–≥–∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –∏ –æ–ø–∏—à–∏—Ç–µ:
- –ß—Ç–æ –≤—ã –ø—ã—Ç–∞–ª–∏—Å—å —Å–¥–µ–ª–∞—Ç—å
- –ß—Ç–æ –æ–∂–∏–¥–∞–ª–∏ —É–≤–∏–¥–µ—Ç—å
- –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ
- –ö–∞–∫–∏–µ –ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Å–æ–ª—å

–¢–µ–ø–µ—Ä—å –≤—ã —Å–º–æ–∂–µ—Ç–µ —Ç–æ—á–Ω–æ –≤–∏–¥–µ—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è! üéâ